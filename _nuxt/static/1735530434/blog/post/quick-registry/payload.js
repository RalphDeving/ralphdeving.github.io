__NUXT_JSONP__("/blog/post/quick-registry", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi){return {data:[{article:{slug:ak,description:al,title:am,imgKeyword:"archives:0",tags:[p],topics:[ab],createdAt:T,updatedAt:T,toc:[{id:an,depth:F,text:ao},{id:ap,depth:F,text:aq},{id:ar,depth:F,text:as},{id:at,depth:U,text:au},{id:av,depth:U,text:aw},{id:ax,depth:U,text:ay},{id:az,depth:F,text:aA},{id:aB,depth:F,text:aC}],body:{type:"root",children:[{type:b,tag:M,props:{id:an},children:[{type:b,tag:l,props:{href:"#what-is-a-docker-registry",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ao}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"According to the "},{type:b,tag:l,props:{href:"https:\u002F\u002Fdocs.docker.com\u002Fregistry\u002F",rel:[G,H,I],target:J},children:[{type:a,value:"DockerDocs"}]},{type:a,value:", the Registry is "},{type:b,tag:B,props:{},children:[{type:a,value:"the open source implementation for storing and distributing container images and other content"}]},{type:a,value:N}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"In other words: it's the place where you can "},{type:b,tag:k,props:{},children:[{type:a,value:"upload to\u002Fdownload from"}]},{type:a,value:" your Docker images for all your needs, just like the Docker Hub."}]},{type:a,value:g},{type:b,tag:M,props:{id:ap},children:[{type:b,tag:l,props:{href:"#starting-a-local-registry",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aq}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"We can use docker compose to start a registry server locally:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:c,props:{className:[O]},children:[{type:a,value:ac}]},{type:b,tag:s,props:{className:[t,V]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"# docker-compose -f registry.yml up -d"}]},{type:a,value:"\n\n"},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:X}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:aH}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fvar\u002Flib\u002Fregistry\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"Now we have our registry at "},{type:b,tag:l,props:{href:aQ,rel:[G,H,I],target:J},children:[{type:a,value:aQ}]},{type:a,value:"; we can verify it is working by checking some of its "},{type:b,tag:l,props:{href:"https:\u002F\u002Fdistribution.github.io\u002Fdistribution\u002Fspec\u002Fapi\u002F",rel:[G,H,I],target:J},children:[{type:a,value:"API"}]},{type:a,value:" like: "},{type:b,tag:l,props:{href:aR,rel:[G,H,I],target:J},children:[{type:a,value:aR}]},{type:a,value:N}]},{type:a,value:g},{type:b,tag:M,props:{id:ar},children:[{type:b,tag:l,props:{href:"#tagging-images",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:as}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"Now we can build and push our images to our own registry. For this we have to tag the image appropriately as: "},{type:b,tag:k,props:{},children:[{type:a,value:"host\u002Fmyimage:version"}]},{type:a,value:", where "},{type:b,tag:B,props:{},children:[{type:a,value:"host"}]},{type:a,value:" in this case is "},{type:b,tag:k,props:{},children:[{type:a,value:"localhost:5000"}]},{type:a,value:". E.g. "},{type:b,tag:k,props:{},children:[{type:a,value:"localhost:5000\u002Fhello:1.0"}]},{type:a,value:N}]},{type:a,value:g},{type:b,tag:ad,props:{id:at},children:[{type:b,tag:l,props:{href:"#insecure-registries",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:au}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"But there is a little problem here, because it is a host that is not using "},{type:b,tag:B,props:{},children:[{type:a,value:"http"},{type:b,tag:k,props:{},children:[{type:a,value:"s"}]}]},{type:a,value:", docker won't push the image 'cause it is unsafe to do it. The workaround ("},{type:b,tag:k,props:{},children:[{type:a,value:"though, not recommended for production and critical stuff"}]},{type:a,value:") is to edit the file "},{type:b,tag:k,props:{},children:[{type:a,value:aS}]},{type:a,value:" by adding the property:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:c,props:{className:[O]},children:[{type:a,value:aS}]},{type:b,tag:s,props:{className:[t,"language-json"]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"{"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,"property"]},children:[{type:a,value:"\"insecure-registries\""}]},{type:b,tag:c,props:{className:[d,aT]},children:[{type:a,value:f}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"["}]},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:"\"localhost:5000\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"]"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"}"}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"After this just restart docker "},{type:b,tag:o,props:{},children:[{type:a,value:"sudo service docker start"}]},{type:a,value:" and try pushing your images now."}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"So, what is the recommended way? Just use a host with "},{type:b,tag:k,props:{},children:[{type:a,value:"ssl\u002Fhttps"}]},{type:a,value:" and tag your images accordingly. E.g. if your host is "},{type:b,tag:B,props:{},children:[{type:b,tag:l,props:{href:aU,rel:[G,H,I],target:J},children:[{type:a,value:aU}]}]},{type:a,value:" then tag the image as "},{type:b,tag:k,props:{},children:[{type:a,value:"registry.example.org\u002Fhello:1.0"}]},{type:a,value:N}]},{type:a,value:g},{type:b,tag:ad,props:{id:av},children:[{type:b,tag:l,props:{href:"#build-tag-push-commands",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aw}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"We can build and tag the image with:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:s,props:{className:[t,E]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aV}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:p}]},{type:a,value:" build "},{type:b,tag:c,props:{className:[d,K,L]},children:[{type:a,value:ae}]},{type:a,value:" someproject.Dockerfile "},{type:b,tag:c,props:{className:[d,K,L]},children:[{type:a,value:"-t"}]},{type:a,value:" registry.example.org\u002Fsomeproject:1.0 "},{type:b,tag:c,props:{className:[d,"builtin","class-name"]},children:[{type:a,value:N}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"And then pushing it to the registry:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:s,props:{className:[t,E]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aW}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:p}]},{type:a,value:" push registry.example.org\u002Fsomeproject:1.0\n"}]}]}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"But what if the image was already built? Well, we just create a new tag for the image and then push it."}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:s,props:{className:[t,E]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"# Tag"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:p}]},{type:a,value:" image tag alreadythere:v0.9.1 registry.example.org\u002Fsomeproject:1.0\n"}]}]}]},{type:a,value:g},{type:b,tag:ad,props:{id:ax},children:[{type:b,tag:l,props:{href:"#build-with-files",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ay}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"We can use "},{type:b,tag:k,props:{},children:[{type:a,value:af}]},{type:a,value:" to make the process of build_tag_push-ing a little bit easier by creating a YAML file like this:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:c,props:{className:[O]},children:[{type:a,value:"builder.yml"}]},{type:b,tag:s,props:{className:[t,V]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:X}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:aZ}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" .\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" someproject.Dockerfile\n\n\n  "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"otherone"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" registry.example.org\u002Fotherone"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" .\u002Fotherdir\u002F\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" otherfile.Dockerfile\n\n\n  "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" .\u002Flocaldev\u002F\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" localdev.Dockerfile\n"}]}]}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"Basically a more succinct docker compose file, with just the necessary info.\nThen, we just need to execute:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:s,props:{className:[t,E]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aV}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:af}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,K,L]},children:[{type:a,value:ae}]},{type:a,value:" builder.yml build\n\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aW}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:af}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,K,L]},children:[{type:a,value:ae}]},{type:a,value:" builder.yml push\n"}]}]}]},{type:a,value:g},{type:b,tag:M,props:{id:az},children:[{type:b,tag:l,props:{href:"#security",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aA}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"Now that we got the basics of the registry, we're going to use "},{type:b,tag:l,props:{href:"https:\u002F\u002Fdistribution.github.io\u002Fdistribution\u002Fabout\u002Fdeploying\u002F#restricting-access",rel:[G,H,I],target:J},children:[{type:a,value:"basic security"}]},{type:a,value:" for it, so if we want to push\u002Fpull an image from it we're going to need to be authenticated."}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"First we're going to create the user and password:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:s,props:{className:[t,E]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"# Pull httpd image"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:p}]},{type:a,value:" pull httpd:2.4.58\n\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"# Run it"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:p}]},{type:a,value:" run "},{type:b,tag:c,props:{className:[d,K,L]},children:[{type:a,value:"--entrypoint"}]},{type:a,value:" htpasswd httpd:2.4.58 "},{type:b,tag:c,props:{className:[d,K,L]},children:[{type:a,value:"-Bbn"}]},{type:a,value:" user_here password_here "},{type:b,tag:c,props:{className:[d,aT]},children:[{type:a,value:"\u003E"}]},{type:a,value:" auth\u002Fhtpasswd\n"}]}]}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"Now we have an "},{type:b,tag:k,props:{},children:[{type:a,value:"auth"}]},{type:a,value:" directory with a file called "},{type:b,tag:k,props:{},children:[{type:a,value:"htpasswd"}]}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"Next let's update the "},{type:b,tag:B,props:{},children:[{type:a,value:ac}]},{type:a,value:" file:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:c,props:{className:[O]},children:[{type:a,value:ac}]},{type:b,tag:s,props:{className:[t,V]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:X}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:aH}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"# Adding environment"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"environment"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"REGISTRY_AUTH"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" htpasswd\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"REGISTRY_AUTH_HTPASSWD_PATH"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fauth\u002Fhtpasswd\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"REGISTRY_AUTH_HTPASSWD_REALM"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" Registry Realm\n    "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"# Adding auth dir"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fvar\u002Flib\u002Fregistry\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:" \u002Fpath\u002Fto\u002Fthe\u002Fauth\u002Fdirectory"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fauth\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"If we try now to open "},{type:b,tag:k,props:{},children:[{type:a,value:"localhost:5000\u002Fv2\u002F_catalog"}]},{type:a,value:", the browser will ask for credentials. And what about the "},{type:b,tag:B,props:{},children:[{type:a,value:"docker pull\u002Fpush"}]},{type:a,value:" commands? We have to execute "},{type:b,tag:k,props:{},children:[{type:a,value:"docker login"}]},{type:a,value:" command with the host and its credentials:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:s,props:{className:[t,E]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:p}]},{type:a,value:" login localhost:5000\n\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"# Or"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:p}]},{type:a,value:" login registry.example.org\n"}]}]}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"This is going to save the credentials at "},{type:b,tag:k,props:{},children:[{type:a,value:"~\u002F.docker\u002Fconfig.json"}]},{type:a,value:" for future "},{type:b,tag:B,props:{},children:[{type:a,value:"pull\u002Fpush"}]},{type:a,value:" actions."}]},{type:a,value:g},{type:b,tag:M,props:{id:aB},children:[{type:b,tag:l,props:{href:"#pulling-images",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aC}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"Finally, we just need to execute the "},{type:b,tag:k,props:{},children:[{type:a,value:"pull"}]},{type:a,value:" command the same way as always:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:s,props:{className:[t,E]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:p}]},{type:a,value:" pull registry.example.org\u002Fsomeproject:1.0\n"},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:p}]},{type:a,value:" pull localhost:5000\u002Flocaldev:1.2.3\n"}]}]}]},{type:a,value:g},{type:b,tag:j,props:{},children:[{type:a,value:"Or directly with a docker compose file:"}]},{type:a,value:g},{type:b,tag:q,props:{className:[r]},children:[{type:b,tag:c,props:{className:[O]},children:[{type:a,value:"compose-file.yml"}]},{type:b,tag:s,props:{className:[t,V]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:X}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:aZ}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"# ports volumes networks etc ..."}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bb}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bb}]},{type:a,value:g}]}]}]}]},dir:"\u002Fpost\u002F2024\u002Fdec",path:"\u002Fpost\u002F2024\u002Fdec\u002Fquick-registry",extension:".md"},recentArticles:[{slug:ak,description:al,title:am,createdAt:T,updatedAt:T},{slug:bc,description:"And a little bit of CORS",title:bd,createdAt:be,updatedAt:be},{slug:"quick-starter-php-project",description:"Using Docker Compose",title:"Quick starter PHP and PostgreSQL Project",createdAt:bf,updatedAt:bf}],tagsList:[{slug:p,name:bg}],topicsList:[{slug:ab,name:bh}],prev:{slug:bc,title:bd},next:null,tags:[{slug:p,name:bg,icon:"mdi-docker"},{slug:"java",name:"Java",icon:"mdi-language-java"},{slug:"javascript",name:"Javascript",icon:"mdi-language-javascript"},{slug:"keycloak",name:"Keycloak",icon:"mdi-account-key-outline"},{slug:"kubuntu",name:"Kubuntu",icon:"mdi-ubuntu"},{slug:"maven",name:"Maven",icon:"mdi-feather"},{slug:"mysql",name:"MySQL",icon:aa},{slug:"nuxt",name:"Nuxt",icon:bi},{slug:"nuxt-content",name:"@nuxt\u002Fcontent",icon:bi},{slug:"php",name:"PHP",icon:"mdi-language-php"},{slug:"postgresql",name:"PostgreSQL",icon:aa},{slug:"sqlite",name:"SQLite",icon:aa},{slug:"tiptap",name:"Tiptap",icon:"mdi-application-edit-outline"},{slug:"vue",name:"Vue",icon:"mdi-vuejs"}],topics:[{slug:"database",name:"Database",icon:aa},{slug:"hardware",name:"Hardware",icon:"mdi-desktop-classic"},{slug:"how-to-blog",name:"How to Blog",icon:"mdi-post-outline"},{slug:"linux",name:"Linux",icon:"mdi-linux"},{slug:ab,name:bh,icon:"mdi-notebook-edit-outline"},{slug:"programming",name:"Programming",icon:"mdi-code-json"},{slug:"web-dev",name:"Web Development",icon:"mdi-monitor-cellphone"}],archives:[{year:2024,month:12,name:"2024 December (1)",to:"\u002Fblog\u002Farchives\u002F2024\u002F12"},{year:S,month:7,name:"2022 July (1)",to:"\u002Fblog\u002Farchives\u002F2022\u002F7"},{year:S,month:5,name:"2022 May (1)",to:"\u002Fblog\u002Farchives\u002F2022\u002F5"},{year:S,month:U,name:"2022 March (1)",to:"\u002Fblog\u002Farchives\u002F2022\u002F3"},{year:S,month:F,name:"2022 February (2)",to:"\u002Fblog\u002Farchives\u002F2022\u002F2"},{year:S,month:1,name:"2022 January (2)",to:"\u002Fblog\u002Farchives\u002F2022\u002F1"},{name:"All...",to:"\u002Fblog\u002Farchives"}]}],fetch:{},mutations:[]}}("text","element","span","token","punctuation",":","\n","key","atrule","p","strong","a","comment","\n    ","code","docker","div","nuxt-content-highlight","pre","line-numbers","-","function","\n      ","true",-1,"icon","icon-link","em"," ","image","language-bash",2,"nofollow","noopener","noreferrer","_blank","parameter","variable","h2",".","filename","string","\n\n\n","\n\n\n  ",2022,"2024-12-30T03:30:46.687Z",3,"language-yml","version","'3.7'","services"," registry","number","networks","mdi-database-outline","notes-to-self","registry.yml","h3","-f","docker-compose","build","context","dockerfile","1.2.3\n    ","quick-registry","Quick and simple","Quick Docker Registry with basic security","what-is-a-docker-registry","What is a Docker Registry?","starting-a-local-registry","Starting a local registry","tagging-images","Tagging images","insecure-registries","Insecure registries","build-tag-push-commands","Build, tag, push commands","build-with-files","Build with files","security","Security","pulling-images","Pulling images","registry","2.8.3\n    ","ports"," 5000","5000","restart"," unless","stopped\n    ","volumes"," \u002Fpath\u002Fto\u002Fa\u002Flocal\u002Fdirectory\u002F","network\n\n\n","\n  ","registry-network","http:\u002F\u002Flocalhost:5000","http:\u002F\u002Flocalhost:5000\u002Fv2\u002F_catalog","\u002Fetc\u002Fdocker\u002Fdaemon.json","operator","https:\u002F\u002Fregistry.example.org","# Build","# Push","someproject"," registry.example.org\u002Fsomeproject","1.0","localdev"," localhost","5000\u002Flocaldev","# ...","axios-php-sessions","Using PHP sessions with Axios","2022-07-10T01:58:56.232Z","2022-05-08T01:07:38.342Z","Docker","Notes++ to self","mdi-nuxt")));